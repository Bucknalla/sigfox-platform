{"version":3,"sources":["/Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/messages/datafilterpipe.ts","/Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/messages/messages-routing.module.ts","/Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/messages/messages.component.html","/Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/messages/messages.component.scss","/Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/messages/messages.component.ts","/Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/messages/messages.module.ts"],"names":[],"mappings":"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","file":"messages.module.chunk.js","sourcesContent":["import * as _ from 'lodash';\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'dataFilter'\n})\nexport class DataFilterPipe implements PipeTransform {\n\n  transform(array: any[], query: string): any {\n    if (query) {\n      return _.filter(array, row=>row.name.indexOf(query) > -1);\n    }\n    return array;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/messages/datafilterpipe.ts","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MessagesComponent } from './messages.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MessagesComponent,\n    data: {\n      title: 'Messages'\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class MessagesRoutingModule {}\n\n\n\n// WEBPACK FOOTER //\n// /Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/messages/messages-routing.module.ts","module.exports = \"<div class=\\\"animated fadeIn\\\">\\n  <div class=\\\"card\\\">\\n    <div class=\\\"card-header\\\">Messages</div>\\n    <div class=\\\"card-block\\\">\\n      <div class=\\\"row mb-1\\\">\\n        <div class=\\\"col-md-4 offset-md-8\\\">\\n          <div class=\\\"input-group\\\">\\n            <span class=\\\"input-group-addon\\\"><i class=\\\"fa fa-search\\\"></i></span>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"filterQuery\\\" placeholder=\\\"Search by name\\\"/>\\n          </div>\\n        </div>\\n      </div>\\n      <table class=\\\"table table-striped\\\" [mfData]=\\\"messages | dataFilter : filterQuery\\\" #mf=\\\"mfDataTable\\\" [mfRowsOnPage]=\\\"10\\\">\\n        <thead>\\n        <tr>\\n          <th style=\\\"width: 10%\\\">\\n            <mfDefaultSorter by=\\\"createdAt\\\">Date</mfDefaultSorter>\\n          </th>\\n          <th style=\\\"width: 20%\\\">\\n            <mfDefaultSorter by=\\\"data\\\">Data</mfDefaultSorter>\\n          </th>\\n          <th style=\\\"width: 10%\\\">\\n            <mfDefaultSorter by=\\\"deviceId\\\">Device</mfDefaultSorter>\\n          </th>\\n          <th style=\\\"width: 20%\\\">\\n            <mfDefaultSorter by=\\\"geolocation\\\">Geoloc</mfDefaultSorter>\\n          </th>\\n          <th style=\\\"width: 10%\\\">\\n            <mfDefaultSorter by=\\\"seqNumber\\\">Seq Number</mfDefaultSorter>\\n          </th>\\n          <th style=\\\"width: 10%\\\">\\n            <mfDefaultSorter by=\\\"RSSI\\\">RSSI</mfDefaultSorter>\\n          </th>\\n          <th style=\\\"width: 10%\\\">\\n            <mfDefaultSorter by=\\\"RSSI\\\">Base Stations</mfDefaultSorter>\\n          </th>\\n          <th style=\\\"width: 10%\\\">\\n            Options\\n          </th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr *ngFor=\\\"let item of mf.data\\\">\\n          <td>{{item.createdAt | date:\\\"yyyy/MM/dd HH:mm:ss\\\"}}</td>\\n          <td>{{item.data}}</td>\\n          <td>{{item.deviceId}}</td>\\n          <td>{{item.geolocation}}</td>\\n          <td>{{item.seqNumber}}</td>\\n          <td>{{item.RSSI}}</td>\\n          <td>{{item.BaseStation}}</td>\\n          <td>\\n            <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" (click)=\\\"remove(item)\\\">\\n              <i class=\\\"fa fa-trash\\\"></i>\\n            </button>\\n          </td>\\n        </tr>\\n        </tbody>\\n        <tfoot>\\n        <tr>\\n          <td colspan=\\\"4\\\">\\n            <mfBootstrapPaginator [rowsOnPageSet]=\\\"[5,10,15]\\\"></mfBootstrapPaginator>\\n          </td>\\n        </tr>\\n        </tfoot>\\n      </table>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/messages/messages.component.html\n// module id = ../../../../../src/app/pages/messages/messages.component.html\n// module chunks = messages.module","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/messages/messages.component.scss\n// module id = ../../../../../src/app/pages/messages/messages.component.scss\n// module chunks = messages.module","import {Component, OnDestroy, OnInit} from '@angular/core';\n\nimport { Message, FireLoopRef } from '../../shared/sdk/models';\nimport { RealTime, MessageApi } from '../../shared/sdk/services';\nimport {Subscription} from \"rxjs/Subscription\";\n\n@Component({\n  selector: 'app-messages',\n  templateUrl: './messages.component.html',\n  styleUrls: ['./messages.component.scss']\n})\nexport class MessagesComponent implements OnInit,OnDestroy {\n\n  private subscriptions: Subscription[] = new Array<Subscription>();\n\n  private message: Message = new Message();\n  private messages: Message[] = new Array<Message>();\n  private messageRef: FireLoopRef<Message>;\n  private countMessages: number = 0;\n\n  public filterQuery = '';\n\n  public toInt(num:string) {\n    return +num;\n  }\n\n  public sortByWordLength = (a:any) => {\n    return a.name.length;\n  };\n\n\n  constructor(private rt: RealTime, private messageApi: MessageApi) {\n\n    this.subscriptions.push(\n\n      this.rt.onReady().subscribe(() => {\n        this.messageRef = this.rt.FireLoop.ref<Message>(Message);\n        this.messageRef.on('change',\n          {limit: 1000, order: 'id DESC'}\n        ).subscribe((messages: Message[]) => {\n          this.messages = messages;\n          console.log(this.messages);\n        });\n\n      }));\n  }\n\n  ngOnInit(): void {\n    console.log(\"Messages: ngOnInit\");\n  }\n\n  ngOnDestroy(): void {\n    console.log(\"Messages: ngOnDestroy\");\n    this.messageRef.dispose();\n    this.subscriptions.forEach((subscription: Subscription) => subscription.unsubscribe());\n  }\n\n  remove(message: Message): void {\n    this.messageRef.remove(message).subscribe();\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// /Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/messages/messages.component.ts","import { NgModule } from '@angular/core';\n\nimport { MessagesComponent } from './messages.component';\nimport { MessagesRoutingModule } from './messages-routing.module';\nimport {CommonModule} from \"@angular/common\";\n\n// DataTable\nimport { DataTableModule } from 'angular2-datatable';\nimport { DataFilterPipe } from './datafilterpipe';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    MessagesRoutingModule,\n    CommonModule,\n    DataTableModule,\n    FormsModule\n  ],\n  declarations: [\n    MessagesComponent,\n    DataFilterPipe\n  ]\n})\nexport class MessagesModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/messages/messages.module.ts"],"sourceRoot":"webpack:///"}