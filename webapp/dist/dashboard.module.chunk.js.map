{"version":3,"sources":["/Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/dashboard/dashboard-routing.module.ts","/Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/dashboard/dashboard.component.html","/Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/dashboard/dashboard.component.ts","/Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/dashboard/dashboard.module.ts","/Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/dashboard/datafilterpipe.ts"],"names":[],"mappings":"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","file":"dashboard.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DashboardComponent } from './dashboard.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DashboardComponent,\n    data: {\n      title: 'Dashboard'\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DashboardRoutingModule {}\n\n\n\n// WEBPACK FOOTER //\n// /Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/dashboard/dashboard-routing.module.ts","module.exports = \"<div class=\\\"animated fadeIn\\\">\\n\\n  <div class=\\\"card-group\\\">\\n    <div class=\\\"card\\\">\\n      <div class=\\\"card-block\\\">\\n        <div class=\\\"h1 text-muted text-right mb-2\\\">\\n          <i class=\\\"icon-tag\\\"></i>\\n        </div>\\n        <div class=\\\"h4 mb-0\\\">{{countCategories}}</div>\\n        <small class=\\\"text-muted text-uppercase font-weight-bold\\\">Categories</small>\\n        <div class=\\\"progress progress-xs mt-1 mb-0\\\">\\n          <div class=\\\"progress-bar bg-danger\\\" role=\\\"progressbar\\\" style=\\\"width: 25%\\\" aria-valuenow=\\\"25\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\"></div>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"card\\\">\\n      <div class=\\\"card-block\\\">\\n        <div class=\\\"h1 text-muted text-right mb-2\\\">\\n          <i class=\\\"icon-energy\\\"></i>\\n        </div>\\n        <div class=\\\"h4 mb-0\\\">{{countDevices}}</div>\\n        <small class=\\\"text-muted text-uppercase font-weight-bold\\\">Devices</small>\\n        <div class=\\\"progress progress-xs mt-1 mb-0\\\">\\n          <div class=\\\"progress-bar bg-warning\\\" role=\\\"progressbar\\\" style=\\\"width: 25%\\\" aria-valuenow=\\\"25\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\"></div>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"card\\\">\\n      <div class=\\\"card-block\\\">\\n        <div class=\\\"h1 text-muted text-right mb-2\\\">\\n          <i class=\\\"icon-compass\\\"></i>\\n        </div>\\n        <div class=\\\"h4 mb-0\\\">{{countMessages}}</div>\\n        <small class=\\\"text-muted text-uppercase font-weight-bold\\\">Messages</small>\\n        <div class=\\\"progress progress-xs mt-1 mb-0\\\">\\n          <div class=\\\"progress-bar bg-primary\\\" role=\\\"progressbar\\\" style=\\\"width: 25%\\\" aria-valuenow=\\\"25\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\"></div>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"card\\\">\\n      <div class=\\\"card-block\\\">\\n        <div class=\\\"h1 text-muted text-right mb-2\\\">\\n          <i class=\\\"icon-calculator\\\"></i>\\n        </div>\\n        <div class=\\\"h4 mb-0\\\">{{countParsers}}</div>\\n        <small class=\\\"text-muted text-uppercase font-weight-bold\\\">Parsers</small>\\n        <div class=\\\"progress progress-xs mt-1 mb-0\\\">\\n          <div class=\\\"progress-bar bg-info\\\" role=\\\"progressbar\\\" style=\\\"width: 25%\\\" aria-valuenow=\\\"25\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\"></div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"card\\\">\\n    <div class=\\\"card-header\\\">Callback URL</div>\\n    <div class=\\\"card-block card-info text-center text-white font-weight-bold font-2xl\\\">{{callbackURL}}</div>\\n  </div>\\n\\n  <div class=\\\"card\\\">\\n    <div class=\\\"card-header\\\">Last Messages</div>\\n    <div class=\\\"card-block\\\">\\n      <div class=\\\"row mb-1\\\">\\n        <div class=\\\"col-md-4 offset-md-8\\\">\\n          <div class=\\\"input-group\\\">\\n            <span class=\\\"input-group-addon\\\"><i class=\\\"fa fa-search\\\"></i></span>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"filterQuery\\\" placeholder=\\\"Search by name\\\"/>\\n          </div>\\n        </div>\\n      </div>\\n      <table class=\\\"table table-striped\\\" [mfData]=\\\"data | dataFilter : filterQuery\\\" #mf=\\\"mfDataTable\\\" [mfRowsOnPage]=\\\"10\\\">\\n        <thead>\\n        <tr>\\n          <th style=\\\"width: 20%\\\">\\n            <mfDefaultSorter by=\\\"createdAt\\\">Date</mfDefaultSorter>\\n          </th>\\n          <th style=\\\"width: 40%\\\">\\n            <mfDefaultSorter by=\\\"data\\\">Data</mfDefaultSorter>\\n          </th>\\n          <th style=\\\"width: 20%\\\">\\n            <mfDefaultSorter by=\\\"deviceId\\\">Device</mfDefaultSorter>\\n          </th>\\n          <th style=\\\"width: 20%\\\">\\n            <mfDefaultSorter by=\\\"geolocation\\\">Geoloc</mfDefaultSorter>\\n          </th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr *ngFor=\\\"let item of mf.data\\\">\\n          <td>{{item.createdAt | date:\\\"yyyy/MM/dd HH:mm:ss\\\"}}</td>\\n          <td>{{item.data}}</td>\\n          <td>{{item.deviceId}}</td>\\n          <td>{{item.geolocation}}</td>\\n        </tr>\\n        </tbody>\\n        <tfoot>\\n        <tr>\\n          <td colspan=\\\"4\\\">\\n            <mfBootstrapPaginator [rowsOnPageSet]=\\\"[5,10,15]\\\"></mfBootstrapPaginator>\\n          </td>\\n        </tr>\\n        </tfoot>\\n      </table>\\n    </div>\\n  </div>\\n\\n  <!--<div class=\\\"card-columns cols-2\\\">-->\\n  <!--<div class=\\\"card\\\">-->\\n  <!--<div class=\\\"card-header\\\">-->\\n  <!--Line Chart-->\\n  <!--<div class=\\\"card-actions\\\">-->\\n  <!--<a href=\\\"http://www.chartjs.org\\\">-->\\n  <!--<small class=\\\"text-muted\\\">docs</small>-->\\n  <!--</a>-->\\n  <!--</div>-->\\n  <!--</div>-->\\n  <!--<div class=\\\"card-block\\\">-->\\n  <!--<div class=\\\"chart-wrapper\\\">-->\\n  <!--<canvas baseChart class=\\\"chart\\\"-->\\n  <!--[datasets]=\\\"lineChartData\\\"-->\\n  <!--[labels]=\\\"lineChartLabels\\\"-->\\n  <!--[options]=\\\"lineChartOptions\\\"-->\\n  <!--[colors]=\\\"lineChartColours\\\"-->\\n  <!--[legend]=\\\"lineChartLegend\\\"-->\\n  <!--[chartType]=\\\"lineChartType\\\"-->\\n  <!--(chartHover)=\\\"chartHovered($event)\\\"-->\\n  <!--(chartClick)=\\\"chartClicked($event)\\\"></canvas>-->\\n  <!--</div>-->\\n  <!--</div>-->\\n  <!--</div>-->\\n  <!--</div>-->\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/dashboard/dashboard.component.html\n// module id = ../../../../../src/app/pages/dashboard/dashboard.component.html\n// module chunks = dashboard.module","import {Component, Inject, OnDestroy, OnInit} from '@angular/core';\n// import { Router } from '@angular/router';\nimport { Message, Device, Category, Parser, FireLoopRef } from '../../shared/sdk/models';\nimport { RealTime, MessageApi, DeviceApi, CategoryApi, ParserApi } from '../../shared/sdk/services';\nimport {count} from \"rxjs/operator/count\";\nimport {Subscription} from \"rxjs/Subscription\";\nimport {DOCUMENT} from \"@angular/common\";\n\n@Component({\n  templateUrl: 'dashboard.component.html'\n})\nexport class DashboardComponent implements OnInit,OnDestroy {\n\n  private callbackURL;\n\n  private subscriptions: Subscription[] = new Array<Subscription>();\n\n  private message    : Message   = new Message();\n  private messages   : Message[] = new Array<Message>();\n  private messageRef : FireLoopRef<Message>;\n  private countMessages:number = 0;\n\n  private device    : Device   = new Device();\n  private devices   : Device[] = new Array<Device>();\n  private deviceRef : FireLoopRef<Device>;\n  private countDevices:number = 0;\n\n  private parser    : Parser   = new Parser();\n  private parsers   : Parser[] = new Array<Parser>();\n  private parserRef : FireLoopRef<Parser>;\n  private countParsers:number = 0;\n\n  private category    : Category   = new Category();\n  private categories   : Category[] = new Array<Category>();\n  private categoryRef : FireLoopRef<Category>;\n  private countCategories:number = 0;\n\n  public data;\n\n  constructor(@Inject(DOCUMENT) private document: any,\n              private rt: RealTime,\n              private messageApi: MessageApi,\n              private deviceApi: DeviceApi,\n              private categoryApi: CategoryApi,\n              private parserApi: ParserApi) {\n\n    this.subscriptions.push(\n\n      this.rt.onReady().subscribe(() => {\n\n        //Messages\n        this.messageRef = this.rt.FireLoop.ref<Message>(Message);\n        this.messageRef.on('change').subscribe((messages: Message[]) => {\n          this.data = messages;\n          this.messages = messages;\n          console.log(\"Messages\", this.messages);\n          this.messageApi.count().subscribe(result => {\n            console.log(messageApi);\n            console.log(\"count: \", result);\n            this.countMessages = result.count;\n          });\n        });\n\n        //Devices\n        this.deviceRef = this.rt.FireLoop.ref<Device>(Device);\n        this.deviceRef.on('change').subscribe((devices: Device[]) => {\n          this.devices = devices;\n          console.log(\"Devices\", this.devices);\n          this.deviceApi.count().subscribe(result => {\n            console.log(deviceApi);\n            console.log(\"count: \", result);\n            this.countDevices = result.count;\n          });\n        });\n\n        //Categories\n        this.categoryRef = this.rt.FireLoop.ref<Category>(Category);\n        this.categoryRef.on('change').subscribe((categories: Category[]) => {\n          this.categories = categories;\n          console.log(\"Categories\", this.categories);\n          this.categoryApi.count().subscribe(result => {\n            console.log(categoryApi);\n            console.log(\"count: \", result);\n            this.countCategories = result.count;\n          });\n        });\n\n        //Parsers\n        this.parserRef = this.rt.FireLoop.ref<Parser>(Parser);\n        this.parserRef.on('change').subscribe((parsers: Parser[]) => {\n          this.parsers = parsers;\n          console.log(\"Parsers\", this.parsers);\n          this.parserApi.count().subscribe(result => {\n            console.log(parserApi);\n            console.log(\"count: \", result);\n            this.countParsers = result.count;\n          });\n        });\n\n      }));\n\n  }\n\n  ngOnInit(): void {\n    this.callbackURL = this.document.location.origin + \"/api/Messages\";\n  }\n\n  ngOnDestroy(): void {\n    console.log(\"Dashboard: ngOnDestroy\");\n    this.messageRef.dispose();\n    this.parserRef.dispose();\n    this.categoryRef.dispose();\n    this.deviceRef.dispose();\n    this.subscriptions.forEach((subscription: Subscription) => subscription.unsubscribe());\n  }\n\n\n  create(): void {\n    this.messageRef.create(this.message).subscribe(() => this.message = new Message());\n  }\n\n  update(message: Message): void {\n    this.messageRef.upsert(message).subscribe();\n  }\n\n  remove(message: Message): void {\n    this.messageRef.remove(message).subscribe();\n  }\n\n  // events\n  public chartClicked(e:any):void {\n    console.log(e);\n  }\n\n  public chartHovered(e:any):void {\n    console.log(e);\n  }\n\n  // lineChart\n  public lineChartData: Array<any> = [\n    {data: [65, 59, 80, 81, 56, 55, 40], label: 'Series A'},\n    {data: [28, 48, 40, 19, 86, 27, 90], label: 'Series B'},\n    {data: [18, 48, 77, 9, 100, 27, 40], label: 'Series C'}\n  ];\n  public lineChartLabels: Array<any> = ['January', 'February', 'March', 'April', 'May', 'June', 'July'];\n  public lineChartOptions: any = {\n    animation: false,\n    responsive: true\n  };\n  public lineChartColours: Array<any> = [\n    { // grey\n      backgroundColor: 'rgba(148,159,177,0.2)',\n      borderColor: 'rgba(148,159,177,1)',\n      pointBackgroundColor: 'rgba(148,159,177,1)',\n      pointBorderColor: '#fff',\n      pointHoverBackgroundColor: '#fff',\n      pointHoverBorderColor: 'rgba(148,159,177,0.8)'\n    },\n    { // dark grey\n      backgroundColor: 'rgba(77,83,96,0.2)',\n      borderColor: 'rgba(77,83,96,1)',\n      pointBackgroundColor: 'rgba(77,83,96,1)',\n      pointBorderColor: '#fff',\n      pointHoverBackgroundColor: '#fff',\n      pointHoverBorderColor: 'rgba(77,83,96,1)'\n    },\n    { // grey\n      backgroundColor: 'rgba(148,159,177,0.2)',\n      borderColor: 'rgba(148,159,177,1)',\n      pointBackgroundColor: 'rgba(148,159,177,1)',\n      pointBorderColor: '#fff',\n      pointHoverBackgroundColor: '#fff',\n      pointHoverBorderColor: 'rgba(148,159,177,0.8)'\n    }\n  ];\n  public lineChartLegend: boolean = true;\n  public lineChartType: string = 'line';\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/dashboard/dashboard.component.ts","import { NgModule } from '@angular/core';\n\nimport { DashboardComponent } from './dashboard.component';\nimport { DashboardRoutingModule } from './dashboard-routing.module';\nimport { CommonModule } from \"@angular/common\";\nimport { ChartsModule } from 'ng2-charts/ng2-charts';\n\n// DataTable\nimport { DataTableModule } from 'angular2-datatable';\nimport { FormsModule } from '@angular/forms';\nimport {DataFilterPipe} from \"./datafilterpipe\";\n\n@NgModule({\n  imports: [\n    DashboardRoutingModule,\n    CommonModule,\n    ChartsModule,\n    DataTableModule,\n    FormsModule\n  ],\n  declarations: [\n    DashboardComponent,\n    DataFilterPipe\n  ]\n})\nexport class DashboardModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/dashboard/dashboard.module.ts","import * as _ from 'lodash';\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'dataFilter'\n})\nexport class DataFilterPipe implements PipeTransform {\n\n  transform(array: any[], query: string): any {\n    if (query) {\n      return _.filter(array, row=>row.name.indexOf(query) > -1);\n    }\n    return array;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/louismoreau/Workspace/sigfox/sigfox-platform/webapp/src/app/pages/dashboard/datafilterpipe.ts"],"sourceRoot":"webpack:///"}